<app-navigation-bar></app-navigation-bar>
<h2>Edit User: {{ model.username }}</h2>
<form #editForm="ngForm" novalidate (ngSubmit)="onSubmit(editForm.value, editForm.valid)">
	<div class="container" align="center">
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="firstName">First Name:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="firstName" required
					[(ngModel)]="model.firstName" #firstName="ngModel" name="firstName">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="lastName">Last Name:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="lastName" required
					[(ngModel)]="model.lastName" #lastName="ngModel" name="lastName">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="username">Username:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="username" required
					[(ngModel)]="model.username" #username="ngModel" name="username">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="organization">Organization:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="organization" required
					[(ngModel)]="model.organization" #organization="ngModel"
					name="organization">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="title">Title:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="title"
					[(ngModel)]="model.title" name="title">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="department">Department:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="department" required
					[(ngModel)]="model.department" #department="ngModel"
					name="department">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="email">Email:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="email" class="form-control" id="email" required
					[(ngModel)]="model.email" #email="ngModel" name="email">
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="roles">Roles:</label>
			</div>
			<div class="col-xs-4" align="left">
				<div class="form-check"
					*ngFor="let user of userRoles; let i = index;">
					<label class="form-check-label" for="user{{user.value}}"> <input
						class="form-check-input" type="checkbox" id="user{{user.value}}"
						name="userOptions" (change)="changeCheckbox(i)"
						[checked]="user.isChecked"> {{user.name}}
					</label>
				</div>
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="active">Activation Status:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input *ngIf="model.active && !deleteUser; else first" type="text"
					class="form-control" id="activated" [(ngModel)]="userActivated"
					name="activated" disabled>
				<ng-template #first>  
					<ng-container *ngIf="deleteUser && !submitted; else second">
						<label class="form-check-label" for="model.active"> 
						<input class="form-check-input" type="checkbox" id="active" name="active"
							(change)="changeActive(content)"> Inactivate User							
						</label>
					</ng-container>			
				</ng-template>
				<ng-template #second>  
					<ng-container *ngIf="!model.active">
						<label class="form-check-label" for="model.active"> 
						<input class="form-check-input" type="checkbox" id="active" name="active"
							(change)="changeActive(content)"> Activate User							
						</label>
					</ng-container>			
				</ng-template>
				<ng-template #content let-c="close" let-d="dismiss">
				<div class="modal-header">
					<h4 class="modal-title">Attention</h4>
					<button type="button" class="close" aria-label="Close"
						(click)="d('Cross click')">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Please Click on the Submit Button to Save Your Changes</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-outline-dark"
						(click)="c('Close click')">Close</button>
				</div>
				</ng-template>
			</div>
		</div>
		<div class="row form-group">
			<div class="col-xs-4" align="right">
				<label for="verified">Verification Status:</label>
			</div>
			<div class="col-xs-4" align="left">
				<input type="text" class="form-control" id="verified"
					[(ngModel)]="userVerified" name="verified" disabled>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-4" align="right">
				<p></p>
			</div>
			<div class="col-xs-4" align="left">
					<button class="btn btn-primary" (click)="restoreForm()">Admin Page</button>
					<button class="btn btn-info">Submit</button>
			</div>
		</div>
	</div>
</form>
<app-footer></app-footer>
